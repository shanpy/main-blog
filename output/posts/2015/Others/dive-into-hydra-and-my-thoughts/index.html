<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Project Hydra is a powerful repository solution, which are used by lots of institutions. To learn more about Hydra, I tried the Dive into Hytra tutorial. This posts includes my thoughts about it.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dive into Hydra and My Thoughts | Pengyin Shan's Note</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="http://pengyin-shan.com/posts/2015/Others/dive-into-hydra-and-my-thoughts/">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="description" itemprop="description" content="Project Hydra is a powerful repository solution, which are used by lots of institutions. To learn more about Hydra, I tried the Dive into Hytra tutorial. This posts includes my thoughts about it.">
<meta name="author" content="Pengyin Shan">
<link rel="prev" href="../../Java/requestdispacher-redirection-in-java/" title="RequestDispacher and Redirection in Java Web App" type="text/html">
<link rel="next" href="../../Data%20Science/sparksql-basics/" title="SparkSQL Basics" type="text/html">
<meta property="og:site_name" content="Pengyin Shan's Note">
<meta property="og:title" content="Dive into Hydra and My Thoughts">
<meta property="og:url" content="http://pengyin-shan.com/posts/2015/Others/dive-into-hydra-and-my-thoughts/">
<meta property="og:description" content="Project Hydra is a powerful repository solution, which are used by lots of institutions. To learn more about Hydra, I tried the Dive into Hytra tutorial. This posts includes my thoughts about it.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-08-09T00:00:00-04:00">
<meta property="article:tag" content="Digial Library">
<meta property="article:tag" content="Hydra">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://pengyin-shan.com/">

                <span id="blog-title">Pengyin Shan's Note</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../../archive.html">Archive</a>
                </li>
<li>
<a href="../../../../categories/">Tags</a>
                </li>
<li>
<a href="../../../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.md" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Dive into Hydra and My Thoughts</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Pengyin Shan
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2015-08-09T00:00:00-04:00" itemprop="datePublished" title="2015-08-09 00:00">2015-08-09 00:00</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2015/Others/dive-into-hydra-and-my-thoughts.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.md" id="sourcelink">Source</a></p>

                <meta name="description" itemprop="description" content="Project Hydra is a powerful repository solution, which are used by lots of institutions. To learn more about Hydra, I tried the Dive into Hytra tutorial. This posts includes my thoughts about it.">
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p><em>This post is being updated while I'm learning more about Hydra</em></p>
<h4>Main Idea</h4>
<p>I used to create a small Spring MVC web app <a href="https://github.com/shanpy/RDFExperiment">RDF Experiment</a> to experiment the ideas behind Hydra. Following is a graph about my assumption of Hydra Idea:</p>
<p>{% img ../images/articles/2015/digital_library/ProjectHydra.png %}</p>
<p>Behind this large frame, there are lots of small classes/methods that will push through stages above.</p>
<h5>Key Concerns</h5>
<p>Following key concerns should be evaluated carefully during the processes above:</p>
<ul>
<li>
<p>When parsing RDF file to Model, what are the key properties which should be kept? What are properties that should be ignored? How client and domain expert think about your solution?</p>
</li>
<li>
<p>What's the best way of modeling Fedora and Solr such that user can use different way of searching, and getting best result? Is there any possibility to shorten result list, while not losing necessary close-results? Is there any way to shorten the searching time?</p>
</li>
<li>
<p>Is there any visualization job can be done to let user understand more about results?</p>
</li>
</ul>
<h4>Problems and Thoughts</h4>
<h5>Installation</h5>
<p>Although RubyInstaller is available in Windows, I still encountered lots of unexpected errors when setting up environment in Windows 10. I took much less time in Linux. I used to run CygWin for virtual Linux environment in Windows, but it's not work well for any environment setup process, including Python and RoR.</p>
<p>If anyone is like me who are starting a taste of Hydra, I suggest using Unix-Based system first.</p>
<p><em>Update on 8/12/15</em>: I created a <a href="http://pengyin-shan.com/blog/setting-up-ror-hydra-environment-problems-and-solutions">post</a> talking about installation of RoR and Hydra. If you need to install RoR or Hydra, feel free to use this post.</p>
<h5>RoR</h5>
<p>Since both Spring and Rails framework are holding MVC structure, it's not hard to transfer idea from Spring to RoR. Subfolders in <code>app</code> folder self-explained themselves:</p>
<ul>
<li>
<p><code>controllers</code>, <code>models</code>, <code>views</code> are folders for MVC structure.</p>
</li>
<li>
<p><code>assets</code> has static resources.</p>
</li>
<li>
<p><code>helpers</code> is special for RoR. Since <code>helper</code> is targeted to for variables talking before controller and view, they are very similar to <code>model attributes</code> in Spring MVC framework.</p>
</li>
</ul>
<p>The basic structure of Hydra-Demo is similar to the a Node.js app, and <code>Gemfile</code> is similar to <code>requirements.txt</code> file in Python.</p>
<h5>Deployment</h5>
<p>Unfortunately, although Hydra is can be deployed on development environment easily for a single developer, there's no hosting platform that fully host a production environment of it. Following problem needs to be considered:</p>
<p>First, the default database needs to be changed in <code>database.yml</code>. Obviously not a lot of institutions will use SQLite3 (Default) in production environment.</p>
<p><em>Solution</em>: I have tried to replace it by MySQL and PostgreSQL, and these two solution all work. I believe other RDBMS should also work well. Just need to change <code>Gemfile</code>. Replace <code>gem 'sqlite3'</code> to <code>gem 'pg'</code> or <code>gem 'mysql2'</code>.</p>
<p><code>database.yml</code> can be changed as following for development purpose:</p>
<pre class="code literal-block"><span></span>default: &amp;default
adapter: postgresql
pool: 5
development:
  &lt;&lt;: *default
  url: postgresql_url_or_environment_virable
  database: database_name
  username:
  pasword:
test: #...
production: #...
</pre>


<p>Second problem is the host of fedora commons. As a single developer, I cannot find a cloud-hosted fedora to make calls, which cause me the problem of hosting hydra demo on cloud.</p>
<p><em>Solution</em>: Since fedora commons has pretty good deployment guideline, I will try to deploy one on Amazon AWS, then adjust <code>fedora.yml</code> in hydra-demo when moving to cloud.</p>
<p><em>Update 08/10/15</em>: When I tried to deploy Fedora 4 on my local machine using Jetty 8, I got unexpected error message, such as  <code>Problem processing jar entry org/fcrepo/kernel/modeshape/observer/GetNamespacedProperties.class</code> <code>java.lang.ArrayIndexOutOfBoundsException: 16680</code>. It happens to lots of fedora classes, such as <code>org/fcrepo/http/commons/api/rdf/HttpTripleUtil.class</code>. I need to figure out this problem before deploying fedora to cloud platform. Tomcat 7 gave no error message, but still unable to deploy it.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/digial-library/" rel="tag">Digial Library</a></li>
            <li><a class="tag p-category" href="../../../../categories/hydra/" rel="tag">Hydra</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../Java/requestdispacher-redirection-in-java/" rel="prev" title="RequestDispacher and Redirection in Java Web App">Previous post</a>
            </li>
            <li class="next">
                <a href="../../Data%20Science/sparksql-basics/" rel="next" title="SparkSQL Basics">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="pengyinnote",
            disqus_url="http://pengyin-shan.com/posts/2015/Others/dive-into-hydra-and-my-thoughts/",
        disqus_title="Dive into Hydra and My Thoughts",
        disqus_identifier="cache/posts/2015/Others/dive-into-hydra-and-my-thoughts.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="pengyinnote";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents Â© 2016         <a href="mailto:shanpy901115@gmail.com">Pengyin Shan</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
